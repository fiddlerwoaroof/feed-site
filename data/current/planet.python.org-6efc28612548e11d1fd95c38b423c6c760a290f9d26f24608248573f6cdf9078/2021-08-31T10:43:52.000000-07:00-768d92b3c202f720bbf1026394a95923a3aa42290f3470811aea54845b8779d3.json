{
  "title":"Will McGugan: Pretty printing JSON with Rich",
  "date":"2021-08-31T10:43:52.000000-07:00",
  "author":null,
  "id":"https://www.willmcgugan.com/blog/tech/post/pretty-printing-json-with-rich/",
  "link":"https://www.willmcgugan.com/blog/tech/post/pretty-printing-json-with-rich/",
  "content":"<p>If you work with <a href=\"https://en.wikipedia.org/wiki/JSON\">JSON</a> regularly (90% of Python developers I suspect) you might appreciate the <code>print_json</code> function just landed in Rich v10.9.0</p>\n<p>If you call this function with a string, Rich will decode the string, reformat it, and print it to the console with nice syntax highlighting. Here's an example:</p>\n<pre><code class=\"language-python\">from rich import print_json\nprint_json('{&quot;foo&quot;: [false, true, null]}')\n</code></pre>\n<p>Here's the output:</p>\n<div><a/>\n <img src=\"https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/765a9824-0a7f-11ec-908a-f23c91845b44.png/765a9824-0a7f-11ec-908a-f23c91845b44png.lg.3.jpeg\" title=\"print_json\"> \n\n<div>© 2021 Will McGugan</div>\n\n\n<p>Calling print_json with a string will decode the JSON and pretty print it.</p>\n\n\n\n\n\n</div>\n<p>Note that the atomic values <code>false</code>, <code>true</code>, and <code>null</code> have their own color. I find this helpful when scanning a JSON blob.</p>\n<p>If you call <code>print_json</code> with a <code>data</code> keyword argument it will <em>encode</em> that data and  pretty print it in the same way.</p>\n<pre><code class=\"language-python\">data = {\n    &quot;foo&quot;: [\n        3.1427,\n        (\n            &quot;Paul Atreides&quot;,\n            &quot;Vladimir Harkonnen&quot;,\n            &quot;Thufir Hawat&quot;,\n        ),\n    ],\n    &quot;atomic&quot;: (False, True, None),\n}\nfrom rich import print_json\nprint_json(data=data)\n</code></pre>\n<p>Here's the output:</p>\n<div><a/>\n <img src=\"https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/17529bc2-0a81-11ec-908a-f23c91845b44.png/17529bc2-0a81-11ec-908a-f23c91845b44png.lg.3.jpeg\" title=\"JSON data\"> \n\n<div>© 2021 Will McGugan</div>\n\n\n<p>Calling the print_json function with a <code>data</code> keyword argument.</p>\n\n\n\n\n\n</div>\n<p>Note that Rich will remove color if you pipe the output of your script to another program, so you can safely add syntax highlighting to your CLI tools.</p>\n<p>You can also pretty print JSON files from the command line with the following:</p>\n<pre><code>python -m rich.json data.json\n</code></pre>\n<p>Here's an example of the output:</p>\n<div><a/>\n <img src=\"https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/cdf325ce-0a7f-11ec-908a-f23c91845b44.png/cdf325ce-0a7f-11ec-908a-f23c91845b44png.lg.3.jpeg\" title=\"rich.json\"> \n\n<div>© 2021 Will McGugan</div>\n\n\n<p>Pretty printing a JSON file from the command line</p>\n\n\n\n\n\n</div>\n<p>This is admittedly a small addition to <a href=\"https://github.com/willmcgugan/rich\">Rich</a> but I'm already finding it helpful.</p>\n<p>Follow <a href=\"https://twitter.com/willmcgugan\">@willmcgugan</a> on Twitter for Rich and <a href=\"https://github.com/willmcgugan/textual\">Textual</a> updates.</p>"
}